<link href="~/allFlights.css" rel="stylesheet" />
@inject AirportSystem.Services.Data.Flights.IFlightService service
@using AirportSystem.Data.Tickets
@model AirportSystem.Web.ViewModels.ComplexViewModel

@{
    var flights = this.service.GetAll();
}

<h2 style="color:black;"><b>All Flights</b></h2>
<div class="table-wrapper">

    <table class="fl-table" id="dataTable">
        <thead>
            <tr>
                <th>Origin</th>
                <th>Destination</th>
                <th>Derparture Time</th>
                <th>Arrival Time</th>
                <th>Flight Duration</th>
                <th>Flight Status</th>
                <th>Price</th>
                <th>Book</th>
            </tr>
        </thead>

        <tbody>
            @foreach (var item in flights)
            {
                var price = item.Price;
                <tr>
                    <td>@item.TravelLineCityName</td>
                    <td>@item.TravelLineCity2Name</td>
                    <td>@item.DepartureTime</td>
                    <td>@item.ArrivalTime</td>
                    <td>@item.FlightDuration</td>
                    <td>@item.FlightStatus</td>
                    <td>@item.Price</td>
                    <td>
                        @Html.ActionLink("Book Ticket", "BookFlight", "Tickets", new { id = item.Id }, new { @class = "btn btn-warning", @role = "button" })
                    </td>
                </tr>
            }
        </tbody>
    </table>

</div>

@section Scripts
                    {
    <script>
        $(document).ready(function () {
            $('#dataTable').DataTable();
        });</script>
}
